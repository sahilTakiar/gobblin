<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Abhishek Tiwari, Chavdar Botev, Issac Buenrostro, Min Tu, Narasimha Veeramreedy, Pradhan Cadabam, Sahil Takiar, Shirshanka Das, Yinan Li, Ying Dai, Ziyang Liu">
  
  <title>Quick Start - Gobblin Documentation</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Quick Start";
    var mkdocs_page_input_path = "metrics/Gobblin-Metrics.md";
    var mkdocs_page_url = "/metrics/Gobblin-Metrics/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74333035-1', 'gobblin.readthedocs.org');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Gobblin Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../Getting-Started/">Getting Started</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../Gobblin-Architecture/">Architecture</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Working-with-Job-Configuration-Files/">Job Configuration Files</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Gobblin-Deployment/">Deployment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Gobblin-on-Yarn/">Gobblin on Yarn</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Compaction/">Compaction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/State-Management-and-Watermarks/">State Management and Watermarks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Working-with-the-ForkOperator/">Fork Operator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Configuration-Properties-Glossary/">Configuration Glossary</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Partitioned-Writers/">Partitioned Writers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Monitoring/">Monitoring</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Gobblin-Schedulers/">Schedulers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Job-Execution-History-Store/">Job Execution History Store</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Gobblin-Build-Options/">Gobblin Build Options</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/Troubleshooting/">Troubleshooting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/FAQs/">FAQs</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Case Studies</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../case-studies/Kafka-HDFS-Ingestion/">Kafka-HDFS Ingestion</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../case-studies/Publishing-Data-to-S3/">Publishing Data to S3</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Gobblin Metrics</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Quick Start</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#table-of-contents">Table of Contents</a></li>
                
            
                <li class="toctree-l3"><a href="#quick-start">Quick Start</a></li>
                
            
                <li class="toctree-l3"><a href="#metric-contexts">Metric Contexts</a></li>
                
            
                <li class="toctree-l3"><a href="#metrics">Metrics</a></li>
                
            
                <li class="toctree-l3"><a href="#events">Events</a></li>
                
            
                <li class="toctree-l3"><a href="#reporters">Reporters</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Existing-Reporters/">Existing Reporters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Metrics-for-Gobblin-ETL/">Metrics for Gobblin ETL</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Gobblin-Metrics-Architecture/">Gobblin Metrics Architecture</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Implementing-New-Reporters/">Implementing New Reporters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Gobblin-Metrics-Performance/">Gobblin Metrics Performance</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Developer Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../developer-guide/Customization-for-New-Source/">Customization for New Source</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../developer-guide/Customization-for-Converter-and-Operator/">Customization for Converter and Operator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../developer-guide/CodingStyle/">Code Style Guide</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../developer-guide/IDE-setup/">IDE setup</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../developer-guide/Monitoring-Design/">Monitoring Design</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Project</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../project/Feature-List/">Feature List</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../project/Team/">Contributors and Team</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../project/Talks-and-Tech-Blogs/">Talks and Tech Blog Posts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../project/News/">News and Roadmap</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../project/Posts/">Posts</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Miscellaneous</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../miscellaneous/Camus-to-Gobblin-Migration/">Camus to Gobblin Migration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../miscellaneous/Exactly-Once-Support/">Exactly Once Support</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Gobblin Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Gobblin Metrics &raquo;</li>
        
      
    
    <li>Quick Start</li>
    <li class="wy-breadcrumbs-aside">
      
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<div class="toc">
<ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#metric-contexts">Metric Contexts</a></li>
<li><a href="#metrics">Metrics</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#reporters">Reporters</a></li>
</ul>
</div>
<p>Gobblin Metrics is a metrics library for emitting metrics and events instrumenting java applications. 
Metrics and events are easy to use and enriched with tags. Metrics allow full granularity, auto-aggregation, and configurable 
reporting schedules. Gobblin Metrics is based on <a href="http://metrics.dropwizard.io/">Dropwizard Metrics</a>, enhanced to better support 
modular applications (by providing hierarchical, auto-aggregated metrics) and their monitoring / auditing.</p>
<h1 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h1>
<p>The following code excerpt shows the functionality of Gobblin Metrics.</p>
<pre><code class="java">// ========================================
// METRIC CONTEXTS
// ========================================

// Create a Metric context with a Tag
MetricContext context = MetricContext.builder(&quot;MyMetricContext&quot;).addTag(new Tag&lt;Integer&gt;(&quot;key&quot;, value)).build();
// Create a child metric context. It will automatically inherit tags from parent.
// All metrics in the child context will be auto-aggregated in the parent context.
MetricContext childContext = context.childBuilder(&quot;childContext&quot;).build();

// ========================================
// METRICS
// ========================================

// Create a reporter for metrics. This reporter will write metrics to STDOUT.
OutputStreamReporter.Factory.newBuilder().build(new Properties());
// Start all metric reporters.
RootMetricContext.get().startReporting();

// Create a counter.
Counter counter = childContext.counter(&quot;my.counter.name&quot;);
// Increase the counter. The next time metrics are reported, &quot;my.counter.name&quot; will be reported as 1.
counter.inc();

// ========================================
// EVENTS
// ========================================

// Create an reporter for events. This reporter will write events to STDOUT.
ScheduledReporter eventReporter = OutputStreamEventReporter.forContext(context).build();
eventReporter.start();

// Create an event submitter, can include default metadata.
EventSubmitter eventSubmitter = new EventSubmitter.Builder(context, &quot;events.namespace&quot;).addMetadata(&quot;metadataKey&quot;, &quot;value&quot;).build();
// Submit an event. Its metadata will contain all tags in context, all metadata in eventSubmitter,
// and any additional metadata specified in the call.
// This event will be displayed the next time the event reporter flushes.
eventSubmitter.submit(&quot;EventName&quot;, &quot;additionalMetadataKey&quot;, &quot;value&quot;);
</code></pre>

<h1 id="metric-contexts">Metric Contexts<a class="headerlink" href="#metric-contexts" title="Permanent link">&para;</a></h1>
<p>A metric context is a context from which users can emit metrics and events. These contexts contain a set of tags, each tag 
being a key-value pair. Contexts are hierarchical in nature: each context has one parent and children. They automatically 
inherit the tags of their parent, and can define or override more tags.</p>
<p>Generally, a metric context is associated with a specific instance of an object that should be instrumented. 
Different instances of the same object will have separate instrumentations. However, each context also aggregates 
all metrics defined by its descendants, providing with a full range of granularities for reporting. 
With this functionality if, for example, an application has 10 different data writers,  users can monitor each writer 
individually, or all at the same time.</p>
<h1 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Permanent link">&para;</a></h1>
<p>Metrics are used to monitor the progress of an application. Metrics are emitted regularly following a schedule and represent 
the current state of the application. The metrics supported by Gobblin Metrics are the same ones as those supported 
by <a href="http://metrics.dropwizard.io/3.1.0/manual/core/">Dropwizard Metrics Core</a>, adapted for tagging and auto-aggregation. 
The types supported are:</p>
<ul>
<li>Counter: simple long counter.</li>
<li>Meter: counter with added computation of the rate at which the counter is changing.</li>
<li>Histogram: stores a histogram of a value, divides all of the values observed into buckets, and reports the count for each bucket.</li>
<li>Timer: a histogram for timing information.</li>
<li>Gauge: simply stores a value. Gauges are not auto-aggregated because the aggregation operation is context-dependent.</li>
</ul>
<h1 id="events">Events<a class="headerlink" href="#events" title="Permanent link">&para;</a></h1>
<p>Events are fire-and-forget messages indicating a milestone in the execution of an application, 
along with metadata that can provide further information about that event (all tags of the metric context used to generate 
the event are also added as metadata).</p>
<h1 id="reporters">Reporters<a class="headerlink" href="#reporters" title="Permanent link">&para;</a></h1>
<p>Reporters periodically output the metrics and events to particular sinks following a configurable schedule. Events and Metrics reporters are kept separate to allow users more control in case they want to emit metrics and events to separate sinks (for example, different files). Reporters for a few sinks are implemented by default, but additional sinks can be implemented by extending the <code>RecursiveScheduledMetricReporter</code> and the <code>EventReporter</code>. Each of the included reporters has a simple builder.</p>
<p>The metric reporter implementations included with Gobblin Metrics are:</p>
<ul>
<li>OutputStreamReporter: Supports any output stream, including STDOUT and files.</li>
<li>KafkaReporter: Emits metrics to a Kafka topic as Json messages.</li>
<li>KafkaAvroReporter: Emits metrics to a Kafka topic as Avro messages.</li>
<li>InfluxDBReporter: Emits metrics to Influx DB.</li>
<li>GraphiteReporter: Emits metrics to Graphite.</li>
<li>HadoopCounterReporter: Emits metrics as Hadoop counters.</li>
</ul>
<p>The event reporter implementations included with Gobblin metrics are:</p>
<ul>
<li>OutputStreamEventReporter: Supports any output stream, including STDOUT and files.</li>
<li>KafkaEventReporter: Emits events to Kafka as Json messages.</li>
<li>KafkaEventAvroReporter: Emits events to Kafka as Avro messages.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Existing-Reporters/" class="btn btn-neutral float-right" title="Existing Reporters">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../case-studies/Publishing-Data-to-S3/" class="btn btn-neutral" title="Publishing Data to S3"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../case-studies/Publishing-Data-to-S3/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Existing-Reporters/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
